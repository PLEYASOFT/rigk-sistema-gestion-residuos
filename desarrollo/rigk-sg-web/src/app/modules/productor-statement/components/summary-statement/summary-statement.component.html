Tabla Resumen Ejercicio {{year_statement}} ( proyectado con datos de POM {{year_statement - 1}})
<!-- Excel -->
<div class="d-md-flex justify-content-end">
    <a class="btn" (click)="tableToExcel()" >Exportar Excel <i class="fa fa-file-excel-o fa-fw fa-lg" aria-hidden="true"></i></a>
</div>


<div class="table-responsive mb-4">
    <!-- inicio Consulta de Declaración -->
    
    <section >
        
        <div class="row w-100">

            
            <!-- Columna 1 -->
            <div id = "table" #table1 class="w-100">
                
                 <div  class="w-100" style="overflow-x: scroll">
                    <!-- Tabla Desktop -->
                    <table class="table table-even table-section table-borderless table-align-middle table-border table-radius d-lg-table table-statement">
                        <thead>
                            <tr>
                                <th colspan="13" style="margin-bottom: 100px;">Resumen Materiales {{year_statement - 1}} (Ton)</th>
                            </tr>
                        </thead>
                        <p></p>
                        <!--<thead>
                            <tr class="text-center w-100" >
                                <th class="text-start">Material</th>
                                <th colspan="2">Prim. Peligroso</th>
                                <th colspan="2">Prim. No Peligroso</th>
                                <th colspan="2">Secundario</th>
                                <th colspan="2">Terciario</th>
                                <th colspan="3">Peso total (ton)</th>
                                <th colspan="3">Monto</th>
                            </tr>
                        </thead> -->
                        <thead>
                            <tr class="text-center w-100" >
                                <th>Material</th>
                                <th>Reciclables</th>
                                <th>No reciclables</th>
                                <th>Retornable / Reutilizable</th>
                                <th>Total por categoría</th>
                                <th>Dif.{{year_statement-1}}/{{year_statement}}(%)</th>
                                <th>Total Corregido por diff.</th>
                            </tr>
                        </thead>
                        
                        <tbody >
                            <!--<tr class="text-center bg-green-light-2 w-100">
                                <td class="fw-bold text-start">{{t}}</td>
                                <td class="color-red" width="7%">{{year_statement - 1}}</td>
                                <td width="7%">{{year_statement}}</td>
                                <td class="color-red" width="7%">{{year_statement - 1}}</td>
                                <td width="7%">{{year_statement}}</td>
                                <td class="color-red" width="7%">{{year_statement - 1}}</td>
                                <td width="7%">{{year_statement}}</td>
                                <td class="color-red" width="7%">{{year_statement - 1}}</td>
                                <td width="7%">{{year_statement}}</td>
                                <td class="color-red" width="7%">{{year_statement - 1}}</td>
                                <td width="7%">{{year_statement}}</td>
                                <td class="color-red" width="7%">Dif. (%)</td>
                                <td class="color-red" width="7%">{{year_statement - 1}}</td>
                                <td width="7%">{{year_statement}}</td>
                                <td class="color-red" width="7%">Dif. (%)</td>
                            </tr> -->
                            <!--<tr class="text-end w-100" *ngFor="let r of residuos; let x = index">
                                <td class="text-start">{{r}}</td>
                                <td class="bg-red-light " id ="td_l_{{i+1}}_1_1_{{x+1}}" >0</td>
                                <td id="td_{{i+1}}_1_1_{{x+1}}">0</td>
                                <td class="bg-red-light " id ="td_l_{{i+1}}_1_2_{{x+1}}" >0</td>
                                <td id="td_{{i+1}}_1_2_{{x+1}}">0</td>
                                <td class="bg-red-light " id = "td_l_{{i+1}}_2_1_{{x+1}}">0</td>
                                <td id="td_{{i+1}}_2_1_{{x+1}}">0</td>
                                <td class="bg-red-light " id = "td_l_{{i+1}}_3_1_{{x+1}}">0</td>
                                <td id="td_{{i+1}}_3_1_{{x+1}}">0</td>
                                <td id= "l_weight_{{i+1}}_{{x+1}}" class="bg-red-light">0</td>
                                <td id="actual_weight_{{i+1}}_{{x+1}}">0</td>
                                <td id="diff_weight_{{i+1}}_{{x+1}}" class="bg-gray color-green ">0%</td>
                                <td id= "l_amount_{{i+1}}_{{x+1}}" class="bg-red-light">$0</td>
                                <td id="actual_amount_{{i+1}}_{{x+1}}">$0</td>
                                <td id="diff_amount_{{i+1}}_{{x+1}}" class="bg-gray color-green ">0%</td>
                            </tr>-->
                            <tr class="text-end w-100" *ngFor="let r of residuos; let x = index">
                                <td class="text-start">{{r}}</td>
                                <td id="actual_weight_1_{{x+1}}">0</td>
                                <td id="actual_weight_2_{{x+1}}">0</td>
                                <td id="actual_weight_3_{{x+1}}">0</td>
                                <td style="background-color: rgb(217, 217, 217);" id="total_category_{{x}}">0</td>
                                <td id="diff_category_{{x}}">0</td>
                                <td style="background-color: rgb(217, 217, 217);" id="diff_corregido_{{x}}">$0</td>
                            </tr>
                        </tbody>
                        
                        <tfoot>
                            <!--<tr class="text-end w-100">
                                <td class="text-start" colspan="9">Total (Peso / Monto)</td>
                                <td id ="td_l_{{i+1}}">0</td>
                                <td id ="td_{{i+1}}">0</td>
                                <td id ="td_diff_weight_{{i+1}}">0</td>
                                <td id ="td_l_amount_{{i+1}}">$0</td>
                                <td id ="td_amount_{{i+1}}">$0</td>
                                <td id ="td_diff_amount_{{i+1}}">0</td>
                            </tr> -->
                            <tr class="text-end w-100">
                                <td class="text-start" colspan="4">Total (Peso)</td>
                                <td id ="total_ton">0</td>
                                <td id ="diff_ton">0</td>
                                <td id ="total_diff_corregido">0</td>
                            </tr>
                        </tfoot>        
                    </table>
                </div>
            </div>
        </div>

        <p></p>
        <tr>
            <td colspan="13">
            <i class="fa fa-info-circle fa-fw fa-lg color-green" aria-hidden="true">

            </i> Los datos ingresados corresponden al total de materiales por categoría puestos en el mercado el año anterior al del ejercicio, es decir, datos del {{year_statement - 1}} como proyección del {{year_statement}}.
            <br><br>En el primer año de ejercicio ({{year_statement}}) no hay corrección de lo proyectado vs datos reales debido a que no existen datos históricos</td>
        </tr>
        <p></p>

        <div class="row w-100">

            
            <!-- Columna 1 -->
            <div id = "table" #table1 class="w-100">
                
                 <div  class="w-100" style="overflow-x: scroll">
                    <!-- Tabla Desktop -->
                    <table class="table table-even table-section table-borderless table-align-middle table-border table-radius d-lg-table table-statement">
                        <thead>
                            <tr>
                                <th colspan="13" style="margin-bottom: 100px;">Resumen de costos (UF) {{year_statement}}</th>
                            </tr>
                        </thead>
                        <p></p>
                        <thead>
                            <tr class="text-center w-100" >
                                <th>Material</th>
                                <th>Reciclables</th>
                                <th>No reciclables</th>
                                <th>Retornable / Reutilizable</th>
                                <th>Total por categoría UF</th>
                                <th>Total corregido UF</th>
                                <th>Total Bruto (CLP$) + IVA</th>
                            </tr>
                        </thead>
                        
                        <tbody >
                            <tr class="text-end w-100" *ngFor="let r of residuos; let x = index">
                                <td class="text-start">{{r}}</td>
                                <td id="actual_weight_1_{{x+1}}">0</td>
                                <td id="actual_weight_2_{{x+1}}">0</td>
                                <td id="actual_weight_3_{{x+1}}">0</td>
                                <td style="background-color: rgb(217, 217, 217);" id="total_category_{{x}}">0</td>
                                <td id="diff_category_{{x}}">0</td>
                                <td style="background-color: rgb(217, 217, 217);" id="diff_corregido_{{x}}">$0</td>
                            </tr>
                        </tbody>
                        
                        <tfoot>
                            <tr class="text-end w-100">
                                <td class="text-start" colspan="4">Total (UF)</td>
                                <td id ="total_ton">0</td>
                                <td id ="diff_ton">0</td>
                                <td id ="total_diff_corregido">0</td>
                            </tr>
                        </tfoot>        
                    </table>
                </div>
            </div>
        </div>

        <!--<div style="visibility: hidden">
            <p>Se pueden visualizar los datos resumen que fueron ingresados anteriormente en la declaración, además existe la posibilidad de visualizar el resumen en formato .xlsx dando click en "Exportar Excel". Si todo está bien, puede continuar con la declaración presionando "Siguiente".   </p>
        </div> -->
    </section>
    <!-- fin Consulta de Declaración -->
</div>
