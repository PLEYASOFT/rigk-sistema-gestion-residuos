"use strict";(self.webpackChunkrigk_sg_web=self.webpackChunkrigk_sg_web||[]).push([[128],{5128:(Pt,q,m)=>{m.r(q),m.d(q,{ProductorStatementModule:()=>Lt});var p=m(6895),f=m(5792),N=m(5226),u=m.n(N),O=m(727);class R extends O.w0{constructor(o,e){super()}schedule(o,e=0){return this}}const E={setInterval(s,o,...e){const{delegate:n}=E;return n?.setInterval?n.setInterval(s,o,...e):setInterval(s,o,...e)},clearInterval(s){const{delegate:o}=E;return(o?.clearInterval||clearInterval)(s)},delegate:void 0};var Y=m(8737);const I={now:()=>(I.delegate||Date).now(),delegate:void 0};class b{constructor(o,e=b.now){this.schedulerActionCtor=o,this.now=e}schedule(o,e=0,n){return new this.schedulerActionCtor(this,o).schedule(n,e)}}b.now=I.now;const C=new class P extends b{constructor(o,e=b.now){super(o,e),this.actions=[],this._active=!1}flush(o){const{actions:e}=this;if(this._active)return void e.push(o);let n;this._active=!0;do{if(n=o.execute(o.state,o.delay))break}while(o=e.shift());if(this._active=!1,n){for(;o=e.shift();)o.unsubscribe();throw n}}}(class L extends R{constructor(o,e){super(o,e),this.scheduler=o,this.work=e,this.pending=!1}schedule(o,e=0){var n;if(this.closed)return this;this.state=o;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(a,this.id,e),this}requestAsyncId(o,e,n=0){return E.setInterval(o.flush.bind(o,this),n)}recycleAsyncId(o,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&E.clearInterval(e)}execute(o,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(o,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,e){let i,n=!1;try{this.work(o)}catch(a){n=!0,i=a||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:o,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(n,this),null!=o&&(this.id=this.recycleAsyncId(e,o,null)),this.delay=null,super.unsubscribe()}}}),D=C;var $=m(9751),H=m(3532);var j=m(4004),G=m(2529),t=m(8256),d=m(4006),T=m(371),w=m(8195),Q=m(4351),v=m(574),y=m(2227);const z=["table1"];function K(s,o){if(1&s&&(t.TgZ(0,"tr",14)(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4,"0"),t.qZA(),t.TgZ(5,"td",30),t._uU(6,"0"),t.qZA(),t.TgZ(7,"td",30),t._uU(8,"0"),t.qZA(),t.TgZ(9,"td",31),t._uU(10,"0 "),t.qZA()()),2&s){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(e),t.xp6(1),t.MGl("id","last_weight_",n+1,""),t.xp6(2),t.MGl("id","actual_weight_",n+1,""),t.xp6(2),t.MGl("id","ajuste_",n+1,""),t.xp6(2),t.MGl("id","total_category_weight_",n+1,"")}}function X(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"td",27),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4,"0"),t.qZA(),t.TgZ(5,"td",30),t._uU(6,"0"),t.qZA(),t.TgZ(7,"td",30),t._uU(8,"0"),t.qZA(),t.TgZ(9,"td",31),t._uU(10,"0 "),t.qZA(),t.TgZ(11,"td",31),t._uU(12,"$0"),t.qZA(),t.BQk()),2&s){const e=t.oxw(),n=e.$implicit,i=e.index;t.xp6(2),t.Oqu(n),t.xp6(1),t.MGl("id","actual_amount_",i,""),t.xp6(2),t.MGl("id","amount_anual_",i,""),t.xp6(2),t.MGl("id","amount_corregido_",i,""),t.xp6(2),t.MGl("id","total_category_amount_",i,""),t.xp6(2),t.MGl("id","uf_clp_",i,"")}}function W(s,o){if(1&s&&(t.TgZ(0,"tr",14),t.YNc(1,X,13,6,"ng-container",32),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","Retornables"!==e)}}let B=(()=>{class s{constructor(e,n,i,a){this.fb=e,this.productorService=n,this.actived=i,this.ratesService=a,this.tablas=["Reciclable","No Reciclable","Retornables / Reutilizables"],this.residuos=["Papel/Cart\xf3n Reciclable","Metal Reciclable","Pl\xe1stico Reciclable","No Reciclables","Retornables"],this.isSubmited=!1,this.isEdited=!1,this.id_business=0,this.year_statement=0,this.id_statement=null,this.detail=this.fb.group({precedence:[],hazard:[],recyclability:[1],type_residue:[1],value:[],amount:[]}),this.detailForm=[],this.headLastForm={},this.detailLastForm=[],this.tonSums={tonSum:Array.from({length:5},()=>0),l_tonSum:Array.from({length:5},()=>0)},this.tonNoReciclable=0,this.tonRetornable=0,this.l_tonNoReciclable=0,this.l_tonRetornable=0,this.result=0,this.dif=Array.from({length:5},()=>0),this.ajuste=Array.from({length:5},()=>0),this.costoAnual=Array.from({length:5},()=>0),this.sumaAmount=0,this.sumaAjuste=0,this.amountAnual=0,this.actived.queryParams.subscribe(r=>{this.id_business=r.id_business,this.year_statement=r.year})}ngAfterViewInit(){this.generateForm()}ngOnInit(){}generateForm(){this.detailLastForm=JSON.parse(sessionStorage.getItem("detailLastForm")),this.detailForm=JSON.parse(sessionStorage.getItem("detailForm"));for(let e=0;e<this.detailForm.length;e++){const n=this.detailForm[e];1==n.recyclability?(this.tonSums.tonSum[n?.type_residue-1]=this.tonSums.tonSum[n?.type_residue-1]+parseFloat(n?.value),this.result=this.tonSums.tonSum[n?.type_residue-1],4!=n?.type_residue&&(document.getElementById(`actual_weight_${n?.type_residue}`).innerHTML=this.setFormato(this.result),this.costoAnual[n?.type_residue-1]=this.result)):2==n.recyclability?4!=n?.type_residue&&(this.tonNoReciclable=this.tonNoReciclable+parseFloat(n?.value),this.result=this.tonNoReciclable,document.getElementById("actual_weight_4").innerHTML=this.setFormato(this.result),this.costoAnual[3]=this.result):3==n.recyclability&&(this.tonRetornable=this.tonRetornable+parseFloat(n?.value),this.result=this.tonRetornable,document.getElementById("actual_weight_5").innerHTML=this.setFormato(this.result),this.costoAnual[4]=this.result)}for(let e=0;e<this.detailLastForm.length;e++){const n=this.detailLastForm[e];1==n.RECYCLABILITY?(this.tonSums.l_tonSum[n?.TYPE_RESIDUE-1]=this.tonSums.l_tonSum[n?.TYPE_RESIDUE-1]+parseFloat(n?.VALUE),this.result=this.tonSums.l_tonSum[n?.TYPE_RESIDUE-1],4!=n?.TYPE_RESIDUE&&(document.getElementById(`last_weight_${n?.TYPE_RESIDUE}`).innerHTML=this.setFormato(this.result))):2==n.RECYCLABILITY?4!=n?.TYPE_RESIDUE&&(this.l_tonNoReciclable=this.l_tonNoReciclable+parseFloat(n?.VALUE),this.result=this.l_tonNoReciclable,document.getElementById("last_weight_4").innerHTML=this.setFormato(this.result)):3==n.RECYCLABILITY&&(this.l_tonRetornable=this.l_tonRetornable+parseFloat(n?.VALUE),this.result=this.l_tonRetornable,document.getElementById("last_weight_5").innerHTML=this.setFormato(this.result))}for(let e=1;e<=5;e++)e<=3?(this.result=this.tonSums.tonSum[e-1]-this.tonSums.l_tonSum[e-1],document.getElementById(`ajuste_${e}`).innerHTML=this.setFormato(this.result),this.ajuste[e-1]=this.result,0==this.tonSums.l_tonSum[e-1]?(document.getElementById(`total_category_weight_${e}`).innerHTML=this.setFormato(this.result),document.getElementById(`ajuste_${e}`).innerHTML="0",this.ajuste[e-1]=0,this.sumaAmount=this.sumaAmount+parseFloat(this.result.toFixed(2))):(this.result=this.tonSums.tonSum[e-1]+(this.tonSums.tonSum[e-1]-this.tonSums.l_tonSum[e-1]),document.getElementById(`total_category_weight_${e}`).innerHTML=this.setFormato(this.result),this.sumaAmount=this.sumaAmount+parseFloat(this.result.toFixed(2)))):4==e?(this.result=this.tonNoReciclable-this.l_tonNoReciclable,document.getElementById(`ajuste_${e}`).innerHTML=this.setFormato(this.result),this.ajuste[e-1]=this.result,0==this.l_tonNoReciclable?(document.getElementById(`total_category_weight_${e}`).innerHTML=this.setFormato(this.result),document.getElementById(`ajuste_${e}`).innerHTML="0",this.ajuste[e-1]=0,this.sumaAmount=this.sumaAmount+parseFloat(this.result.toFixed(2))):(this.result=this.tonNoReciclable+(this.tonNoReciclable-this.l_tonNoReciclable),document.getElementById(`total_category_weight_${e}`).innerHTML=this.setFormato(this.result),this.sumaAmount=this.sumaAmount+parseFloat(this.result.toFixed(2)))):(this.result=this.tonRetornable-this.l_tonRetornable,document.getElementById(`ajuste_${e}`).innerHTML=this.setFormato(this.result),this.ajuste[e-1]=this.result,0==this.l_tonRetornable?(document.getElementById(`total_category_weight_${e}`).innerHTML=this.setFormato(this.result),document.getElementById(`ajuste_${e}`).innerHTML="0",this.ajuste[e-1]=0,this.sumaAmount=this.sumaAmount+parseFloat(this.result.toFixed(2))):(this.result=this.tonRetornable+(this.tonRetornable-this.l_tonRetornable),document.getElementById(`total_category_weight_${e}`).innerHTML=this.setFormato(this.result),this.sumaAmount=this.sumaAmount+parseFloat(this.result.toFixed(2))));document.getElementById("total_ton").innerHTML=this.setFormato(this.sumaAmount),document.getElementById("pom_total").innerHTML=document.getElementById("total_ton").innerHTML,this.ratesService.getCLP.pipe((0,Q.b)(e=>{this.sumaAmount=0;for(let n=0;n<4;n++)document.getElementById(`actual_amount_${n}`).innerHTML=this.setFormato(e.data[n].price),document.getElementById(`amount_anual_${n}`).innerHTML=this.setFormato(e.data[n].price*this.costoAnual[n]),document.getElementById(`amount_corregido_${n}`).innerHTML=this.setFormato(e.data[n].price*this.ajuste[n]),document.getElementById(`total_category_amount_${n}`).innerHTML=this.setFormato(e.data[n].price*this.costoAnual[n]+e.data[n].price*this.ajuste[n]),this.sumaAmount=this.sumaAmount+parseFloat((e.data[n].price*this.costoAnual[n]).toFixed(2))+parseFloat((e.data[n].price*this.ajuste[n]).toFixed(2)),this.dif[n]=e.data[n].price*this.costoAnual[n]+e.data[n].price*this.ajuste[n],this.sumaAjuste=this.sumaAjuste+parseFloat((e.data[n].price*this.ajuste[n]).toFixed(2)),this.amountAnual=this.amountAnual+parseFloat((e.data[n].price*this.costoAnual[n]).toFixed(2));return document.getElementById("anual_amount").innerHTML=this.setFormato(this.amountAnual),document.getElementById("ajuste_amount").innerHTML=this.setFormato(this.sumaAjuste),document.getElementById("total_amount").innerHTML=this.setFormato(this.sumaAmount),document.getElementById("amount_total").innerHTML=document.getElementById("total_amount").innerHTML,this.ratesService.getUF})).subscribe(e=>{this.sumaAmount=0;for(let n=0;n<4;n++)this.sumaAmount=this.sumaAmount+parseInt((this.dif[n]*e.data*1.19).toFixed(0)),document.getElementById(`uf_clp_${n}`).innerHTML="$"+this.setFormato(parseInt((this.dif[n]*e.data*1.19).toFixed(0)));document.getElementById("total_uf_clp").innerHTML="$"+this.setFormato(this.sumaAmount)})}tableToExcel(){const e=v.P6.table_to_sheet(this.table.nativeElement,{raw:!0}),n=v.P6.book_new();v.P6.book_append_sheet(n,e,"Sheet1"),v.NC(n,"Tabla-Resumen.xlsx")}verifyNumber(e){return Number.isInteger(e)?e.toString():e.toFixed(2)}setFormato(e){const n="string"==typeof e?parseFloat(e.replace(/,/g,"")):e,i=Math.round(100*n)/100,[a,r]=i.toString().split("."),c=a.replace(/\B(?=(\d{3})+(?!\d))/g,".");return r&&"0"!==r?`${c},${r.padEnd(2,"0")}`:c}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d.qu),t.Y36(T.u),t.Y36(f.gz),t.Y36(y.z))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-summary-statement"]],viewQuery:function(e,n){if(1&e&&t.Gf(z,5),2&e){let i;t.iGM(i=t.CRH())&&(n.table=i.first)}},decls:130,vars:14,consts:[[1,"d-md-flex","justify-content-end"],[1,"btn",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o","fa-fw","fa-lg"],[1,"table-responsive","mb-4"],["table1",""],[1,"row","w-100"],[1,"w-100"],[1,"w-100","table-responsive-md"],[1,"table","table-even","table-section","table-borderless","table-align-middle","table-border","table-radius","d-lg-table","table-statement"],["colspan","13",2,"margin-bottom","100px"],[1,"text-center","w-100"],[1,"mi-columna",2,"background-color","rgb(8, 148, 110)","color","white"],[1,"columna-doble",2,"background-color","rgb(8, 148, 110)","color","white"],["class","text-end w-100",4,"ngFor","ngForOf"],[1,"text-end","w-100"],["colspan","4",1,"text-start",2,"background-color","rgb(8, 148, 110)","color","white"],["id","total_ton",2,"background-color","rgb(8, 148, 110)","color","white"],["colspan","13"],["id","table",1,"w-100"],["colspan","2",1,"text-start",2,"background-color","rgb(8, 148, 110)","color","white"],["id","anual_amount",2,"background-color","rgb(8, 148, 110)","color","white"],["id","ajuste_amount",2,"background-color","rgb(8, 148, 110)","color","white"],["id","total_amount",2,"background-color","rgb(8, 148, 110)","color","white"],["id","total_uf_clp",2,"background-color","rgb(8, 148, 110)","color","white"],["id","mi-tabla"],["colspan","2"],[2,"background-color","rgb(8, 148, 110)","color","white"],[1,"text-start"],["id","pom_total"],["id","amount_total"],[3,"id"],[2,"background-color","rgb(217, 217, 217)",3,"id"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"div",0)(3,"a",1),t.NdJ("click",function(){return n.tableToExcel()}),t._uU(4,"Exportar Excel "),t._UZ(5,"i",2),t.qZA()(),t.TgZ(6,"div",3,4)(8,"section")(9,"div",5)(10,"div",6)(11,"div",7)(12,"table",8)(13,"thead")(14,"tr")(15,"th",9),t._uU(16,"Resumen de EyE por subcategor\xeda"),t.qZA()()(),t._UZ(17,"p"),t.TgZ(18,"thead")(19,"tr",10)(20,"th",11),t._uU(21,"Subcategor\xeda"),t.qZA(),t.TgZ(22,"th",11),t._uU(23),t.qZA(),t.TgZ(24,"th",11),t._uU(25),t.qZA(),t.TgZ(26,"th",11),t._uU(27),t.qZA(),t.TgZ(28,"th",12),t._uU(29,"Total Neto (Ton)"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,K,11,5,"tr",13),t.qZA(),t.TgZ(32,"tfoot")(33,"tr",14)(34,"td",15),t._uU(35,"Total (Peso)"),t.qZA(),t.TgZ(36,"td",16),t._uU(37,"0"),t.qZA()()()()()()(),t.TgZ(38,"tr")(39,"td",17),t._uU(40," No se considera los EyE de madera "),t.qZA()(),t._UZ(41,"p"),t.TgZ(42,"tr")(43,"td",17),t._uU(44," En el primer a\xf1o de ejercicio (2023) no hay correcci\xf3n de lo proyectado vs datos reales debido a que no existen datos hist\xf3ricos"),t.qZA()(),t._UZ(45,"p"),t.TgZ(46,"div",5)(47,"div",18,4)(49,"div",7)(50,"table",8)(51,"thead")(52,"tr")(53,"th",9),t._uU(54),t.qZA()()(),t._UZ(55,"p"),t.TgZ(56,"thead")(57,"tr",10)(58,"th",11),t._uU(59,"Subcategor\xeda"),t.qZA(),t.TgZ(60,"th",11),t._uU(61),t.qZA(),t.TgZ(62,"th",11),t._uU(63),t.qZA(),t.TgZ(64,"th",11),t._uU(65),t.qZA(),t.TgZ(66,"th",11),t._uU(67,"Total corregido (UF)"),t.qZA(),t.TgZ(68,"th",11),t._uU(69,"Total Neto (CLP) + IVA "),t.qZA()()(),t.TgZ(70,"tbody"),t.YNc(71,W,2,1,"tr",13),t.qZA(),t.TgZ(72,"tfoot")(73,"tr",14)(74,"td",19),t._uU(75,"Total (Costo)"),t.qZA(),t.TgZ(76,"td",20),t._uU(77,"0"),t.qZA(),t.TgZ(78,"td",21),t._uU(79,"0"),t.qZA(),t.TgZ(80,"td",22),t._uU(81,"0"),t.qZA(),t.TgZ(82,"td",23),t._uU(83,"$0"),t.qZA()()()()()()(),t._UZ(84,"p"),t._uU(85," La factura se enviar\xe1 con el valor de la UF al momento de enviar la declaraci\xf3n. "),t._UZ(86,"p"),t.TgZ(87,"div",24)(88,"table",8)(89,"thead")(90,"tr")(91,"th",25),t._uU(92),t.qZA()()(),t._UZ(93,"p"),t.TgZ(94,"thead")(95,"tr",10)(96,"th",26),t._uU(97,"Total Subcategor\xedas de EyE"),t.qZA(),t.TgZ(98,"th",26),t._uU(99,"Total EyE"),t.qZA()()(),t.TgZ(100,"tbody")(101,"tr",10)(102,"td",27),t._uU(103,"Total EyE"),t.qZA(),t.TgZ(104,"td",28),t._uU(105,"0"),t.qZA()()()()(),t._UZ(106,"p")(107,"p"),t.TgZ(108,"div",24)(109,"table",8)(110,"thead")(111,"tr")(112,"th",25),t._uU(113),t.qZA()()(),t._UZ(114,"p"),t.TgZ(115,"thead")(116,"tr",10)(117,"th",26),t._uU(118,"Material"),t.qZA(),t.TgZ(119,"th",26),t._uU(120,"Total UF"),t.qZA()()(),t.TgZ(121,"tbody")(122,"tr",10)(123,"td",27),t._uU(124,"Costo Total"),t.qZA(),t.TgZ(125,"td",29),t._uU(126,"0"),t.qZA()()()()(),t.TgZ(127,"tr")(128,"td",17),t._uU(129," El Costo Total en $CL se factura con el valor de la UF al momento de enviar la declaraci\xf3n. A ese Monto Neto se le agrega el IVA. "),t.qZA()()()()),2&e&&(t.xp6(1),t.hij(" Tabla Resumen ",+n.year_statement," "),t.xp6(22),t.Oqu(n.year_statement-1),t.xp6(2),t.Oqu(n.year_statement),t.xp6(2),t.AsE("Ajuste ",n.year_statement-1," vs ",n.year_statement," (Ton)"),t.xp6(4),t.Q6J("ngForOf",n.residuos),t.xp6(23),t.hij("Resumen de costos (UF) ",+n.year_statement+1,""),t.xp6(7),t.hij("Ecotarifa ",+n.year_statement+1," (UF)"),t.xp6(2),t.hij("Costo Anual ",n.year_statement," (UF)"),t.xp6(2),t.AsE("Ajuste ",n.year_statement-1," vs ",n.year_statement," (UF)"),t.xp6(6),t.Q6J("ngForOf",n.residuos),t.xp6(21),t.hij("Total EyE declarados ",n.year_statement," (Ton)"),t.xp6(21),t.hij("Costo total ",+n.year_statement+1,""))},dependencies:[p.sg,p.O5],styles:[".d-none[_ngcontent-%COMP%]{display:none}#mi-tabla[_ngcontent-%COMP%]{width:25%!important}.mi-columna[_ngcontent-%COMP%]{width:100px}.columna-doble[_ngcontent-%COMP%]{width:200px}"]}),s})();function tt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"td"),t._uU(1),t.qZA(),t.TgZ(2,"td",16),t._uU(3,"0"),t.qZA(),t.TgZ(4,"td")(5,"input",17),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw().index,c=t.oxw();return t.KtG(c.updateValue(r+1,a+1,1,2,i.target))}),t.qZA()(),t.TgZ(6,"td",16),t._uU(7,"0"),t.qZA(),t.TgZ(8,"td")(9,"input",18),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw().index,c=t.oxw();return t.KtG(c.updateValue(r+1,a+1,1,1,i.target))}),t.qZA()(),t.TgZ(10,"td",16),t._uU(11,"0"),t.qZA(),t.TgZ(12,"td")(13,"input",18),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw().index,c=t.oxw();return t.KtG(c.updateValue(r+1,a+1,2,1,i.target))}),t.qZA()(),t.TgZ(14,"td",16),t._uU(15,"0"),t.qZA(),t.TgZ(16,"td"),t._UZ(17,"input",19),t.qZA(),t.TgZ(18,"td"),t._UZ(19,"input",20),t.qZA(),t.TgZ(20,"td"),t._UZ(21,"input",19),t.qZA()}if(2&s){const e=t.oxw(),n=e.$implicit,i=e.index,a=t.oxw().index;t.xp6(1),t.Oqu(n),t.xp6(1),t.hYB("id","inp_l_",a+1,"_",i+1,"_1_2"),t.xp6(3),t.hYB("id","inp_",a+1,"_",i+1,"_1_2"),t.xp6(1),t.hYB("id","inp_l_",a+1,"_",i+1,"_1_1"),t.xp6(3),t.hYB("id","inp_",a+1,"_",i+1,"_1_1"),t.xp6(1),t.hYB("id","inp_l_",a+1,"_",i+1,"_2_1"),t.xp6(3),t.hYB("id","inp_",a+1,"_",i+1,"_2_1"),t.xp6(1),t.hYB("id","last_weight_",a+1,"_",i+1,""),t.xp6(3),t.hYB("id","actual_weight_",a+1,"_",i+1,""),t.xp6(2),t.hYB("id","actual_dif_",a+1,"_",i+1,""),t.xp6(2),t.hYB("id","actual_amount_",a+1,"_",i+1,"")}}function et(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"td",21),t._uU(1,"0"),t.qZA(),t.TgZ(2,"td",22)(3,"input",17),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw().index,c=t.oxw();return t.KtG(c.updateValue(r+1,a+1,1,2,i.target))}),t.qZA()(),t.TgZ(4,"td",21),t._uU(5,"0"),t.qZA(),t.TgZ(6,"td",22)(7,"input",18),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw().index,c=t.oxw();return t.KtG(c.updateValue(r+1,a+1,1,1,i.target))}),t.qZA()(),t.TgZ(8,"td",21),t._uU(9,"0"),t.qZA(),t.TgZ(10,"td",22)(11,"input",18),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,r=t.oxw().index,c=t.oxw();return t.KtG(c.updateValue(r+1,a+1,2,1,i.target))}),t.qZA()(),t.TgZ(12,"td",21),t._uU(13,"0"),t.qZA(),t.TgZ(14,"td",22),t._UZ(15,"input",23),t.qZA(),t.TgZ(16,"td",22),t._UZ(17,"input",23),t.qZA(),t.TgZ(18,"td",22),t._UZ(19,"input",23),t.qZA()}if(2&s){const e=t.oxw().index,n=t.oxw().index;t.hYB("id","inp_l_",n+1,"_",e+1,"_1_2"),t.xp6(3),t.hYB("id","inp_",n+1,"_",e+1,"_1_2"),t.xp6(1),t.hYB("id","inp_l_",n+1,"_",e+1,"_1_1"),t.xp6(3),t.hYB("id","inp_",n+1,"_",e+1,"_1_1"),t.xp6(1),t.hYB("id","inp_l_",n+1,"_",e+1,"_2_1"),t.xp6(3),t.hYB("id","inp_",n+1,"_",e+1,"_2_1"),t.xp6(1),t.hYB("id","last_weight_",n+1,"_",e+1,""),t.xp6(3),t.hYB("id","actual_weight_",n+1,"_",e+1,""),t.xp6(2),t.hYB("id","actual_dif_",n+1,"_",e+1,""),t.xp6(2),t.hYB("id","actual_amount_",n+1,"_",e+1,"")}}function nt(s,o){if(1&s&&(t.TgZ(0,"tr",14),t.ynx(1),t.YNc(2,tt,22,21,"ng-template",15),t.YNc(3,et,20,20,"ng-template",15),t.BQk(),t.qZA()),2&s){const e=o.$implicit,n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf","Envases compuestos"!==e||"Envases compuestos"===e&&"EyE No Reciclables"===n),t.xp6(1),t.Q6J("ngIf",!("Envases compuestos"!==e||"Envases compuestos"===e&&"EyE No Reciclables"===n))}}function it(s,o){if(1&s&&(t.TgZ(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th",3),t._uU(5),t.qZA()()(),t.TgZ(6,"tbody")(7,"tr",4)(8,"td",5),t._uU(9),t.qZA(),t.TgZ(10,"td",6),t._uU(11,"Primarios No Peligrosos"),t.qZA(),t.TgZ(12,"td",6),t._uU(13,"Primarios Peligrosos"),t.qZA(),t.TgZ(14,"td",6),t._uU(15,"Secundarios/Terciarios"),t.qZA(),t.TgZ(16,"td",6),t._uU(17,"Peso Total"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21,"Monto (UF)"),t.qZA()(),t.TgZ(22,"tr",7)(23,"td",8),t._uU(24),t.qZA(),t.TgZ(25,"td",9),t._uU(26),t.qZA(),t.TgZ(27,"td",8),t._uU(28),t.qZA(),t.TgZ(29,"td",9),t._uU(30),t.qZA(),t.TgZ(31,"td",8),t._uU(32),t.qZA(),t.TgZ(33,"td",9),t._uU(34),t.qZA(),t.TgZ(35,"td",8),t._uU(36),t.qZA(),t.TgZ(37,"td",9),t._uU(38),t.qZA(),t._UZ(39,"td",8),t.TgZ(40,"td",9),t._uU(41),t.qZA()(),t.YNc(42,nt,4,2,"tr",10),t.qZA(),t.TgZ(43,"tfoot")(44,"tr"),t._UZ(45,"td",11),t.TgZ(46,"td",6)(47,"div",12)(48,"span"),t._uU(49,"Peso (ton):"),t.qZA(),t._UZ(50,"span",13),t.qZA()(),t.TgZ(51,"td",6)(52,"div",12)(53,"span"),t._uU(54,"Total:"),t.qZA(),t._UZ(55,"span",13),t.qZA()()()()()()),2&s){const e=o.$implicit,n=o.index,i=t.oxw();t.xp6(5),t.AsE("Declaraci\xf3n REP ",e," a\xf1o ",i.year_statement," en toneladas"),t.xp6(4),t.Oqu(e),t.xp6(10),t.AsE("Dif. ",i.year_statement-1," vs ",i.year_statement," (ton)"),t.xp6(5),t.Oqu(i.year_statement-1),t.xp6(2),t.Oqu(i.year_statement),t.xp6(2),t.Oqu(i.year_statement-1),t.xp6(2),t.Oqu(i.year_statement),t.xp6(2),t.Oqu(i.year_statement-1),t.xp6(2),t.Oqu(i.year_statement),t.xp6(2),t.Oqu(i.year_statement-1),t.xp6(2),t.Oqu(i.year_statement),t.xp6(3),t.Oqu(i.year_statement),t.xp6(1),t.Q6J("ngForOf",i.residuos),t.xp6(8),t.MGl("id","total_weight_",n+1,""),t.xp6(5),t.MGl("id","total_amount_",n+1,"")}}let st=(()=>{class s{constructor(e,n,i,a,r,c){this.fb=e,this.productorService=n,this.router=i,this.actived=a,this.ratesService=r,this.currencyPipe=c,this.tablas=["EyE Reciclables","EyE No Reciclables","EyE Retornables / Reutilizables"],this.residuos=["Papel/Cart\xf3n","Metal","Pl\xe1stico","Madera","Envases compuestos"],this.showOtherEnvInNoRecyclableTable=!1,this.isSubmited=!1,this.isEdited=!1,this.id_business="",this.year_statement=0,this.id_statement=null,this.detail=this.fb.group({precedence:[],hazard:[],recyclability:[1],type_residue:[1],value:[],amount:[]}),this.detailForm=[],this.headLastForm={},this.detailLastForm=[],this.rates=[],this.lala=null,this.actived.queryParams.subscribe(l=>{this.id_business=l.id_business,this.year_statement=l.year})}ngOnDestroy(){this.lala?.unsubscribe()}ngOnInit(){u().fire({title:"Cargando Datos",text:"Se est\xe1 recuperando datos",timerProgressBar:!0,showConfirmButton:!1}),u().showLoading(),this.ratesService.getCLP.subscribe({next:e=>{this.rates=e.data,this.getDraftStatement(),this.getValueStatementByYear()},error:e=>{u().close(),u().fire({title:"\xa1Ups!",icon:"error",text:"No se logr\xf3 obtener el valor de la UF",showConfirmButton:!0}),console.log(e)}})}ngAfterViewChecked(){this.calculateDiff()}calculateDiff(){let e=0,n=0,i=0,a=0,r=0,c=0;for(let l=1;l<=5;l++){const _=parseFloat(document.getElementById(`actual_weight_1_${l}`).value.replace(",",".")),M=parseFloat(document.getElementById(`actual_weight_2_${l}`).value.replace(",",".")),h=parseFloat(document.getElementById(`actual_weight_3_${l}`).value.replace(",",".")),x=parseFloat(document.getElementById(`last_weight_1_${l}`).innerHTML.replace(",",".")),A=parseFloat(document.getElementById(`last_weight_2_${l}`).innerHTML.replace(",",".")),Z=parseFloat(document.getElementById(`last_weight_3_${l}`).innerHTML.replace(",","."));let g=_-x,S=M-A,F=h-Z;0==x&&(g=0),0==A&&(S=0),0==Z&&(F=0),e+=parseFloat(document.getElementById(`actual_amount_1_${l}`).value.replace(",","."))||0,n+=parseFloat(document.getElementById(`actual_amount_2_${l}`).value.replace(",","."))||0,i+=parseFloat(document.getElementById(`actual_amount_3_${l}`).value.replace(",","."))||0,a+=parseFloat(document.getElementById(`actual_weight_1_${l}`).value.replace(",","."))||0,r+=parseFloat(document.getElementById(`actual_weight_2_${l}`).value.replace(",","."))||0,c+=parseFloat(document.getElementById(`actual_weight_3_${l}`).value.replace(",","."))||0,document.getElementById(`actual_dif_1_${l}`).value=`${g==1/0?100:g.toFixed(2).replace(".",",")||0}`,document.getElementById(`actual_dif_2_${l}`).value=`${S==1/0?100:S.toFixed(2).replace(".",",")||0}`,document.getElementById(`actual_dif_3_${l}`).value=`${F==1/0?100:F.toFixed(2).replace(".",",")||0}`}document.getElementById("total_amount_1").innerHTML=e.toFixed(2).replace(".",","),document.getElementById("total_amount_2").innerHTML=n.toFixed(2).replace(".",","),document.getElementById("total_amount_3").innerHTML=i.toFixed(2).replace(".",","),document.getElementById("total_weight_1").innerHTML=a.toFixed(2).replace(".",","),document.getElementById("total_weight_2").innerHTML=r.toFixed(2).replace(".",","),document.getElementById("total_weight_3").innerHTML=c.toFixed(2).replace(".",",")}getDraftStatement(){this.detailForm=[],this.lala=this.productorService.getValueStatementByYear(this.id_business,this.year_statement,1).subscribe({next:e=>{if(e.status){e.data.header.STATE&&this.router.navigate(["/productor/home"]),this.id_statement=e.data.header.ID,sessionStorage.setItem("isEdited","true"),sessionStorage.setItem("id_statement",this.id_statement?.toString()||"null");for(let n=0;n<e.data.detail.length;n++){const i=e.data.detail[n];document.getElementById(`inp_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}_${i?.PRECEDENCE}_${i?.HAZARD}`).value="0"}for(let n=0;n<e.data.detail.length;n++){const i=e.data.detail[n],a=this.toLowerKeys(i);if(0==i?.VALUE)continue;document.getElementById(`inp_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}_${i?.PRECEDENCE}_${i?.HAZARD}`).value=i?.VALUE.toString().replace(".",",");const r=(parseFloat(document.getElementById(`actual_weight_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}`).value.replace(",","."))||0)+parseFloat(i?.VALUE);let c=0;c=1==i.RECYCLABILITY&&i.TYPE_RESIDUE<=3?i?.VALUE*this.rates[i.TYPE_RESIDUE-1].price:2==i.RECYCLABILITY&&(i.TYPE_RESIDUE<=3||5==i.TYPE_RESIDUE)?i?.VALUE*this.rates[3].price:0;const l=document.getElementById(`actual_amount_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}`).value.replace("$","").replace(",","."),_=(parseFloat(l)||0)+c;a.amount=c,this.detailForm.push(a),document.getElementById(`actual_weight_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}`).value=r.toFixed(2).replace(".",","),document.getElementById(`actual_amount_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}`).value=_.toFixed(2).replace(".",",")||""}sessionStorage.setItem("detailForm",JSON.stringify(this.detailForm))}},error:e=>{u().close(),u().fire({icon:"error",text:e.msg,title:"\xa1Ups!"})}})}toLowerKeys(e){const n=Object.entries(e);return Object.fromEntries(n.map(([i,a])=>[i.toLowerCase(),a]))}updateValue(e,n,i,a,r){sessionStorage.setItem("isEdited","true");let c,l=0,_=0;/^[0-9]+(,[0-9]+)?$/.test(r.value)||(r.value=0);let h=parseFloat(r.value.replace(",","."));(!r.value||isNaN(h)||h<0)&&(h=0,r.value=0);for(let Z=0;Z<this.detailForm.length;Z++){const g=this.detailForm[Z];g.type_residue==n&&g.recyclability==e&&(l+=parseFloat(g.value||0)),g.type_residue==n&&g.precedence==i&&g.hazard==a&&g.recyclability==e&&(c=g)}if(0==this.detailForm.length&&(l=0),c){const Z=this.detailForm.indexOf(c);l-={...this.detailForm[Z]}.value,this.detailForm[Z].value=h,l+=parseFloat(this.detailForm[Z].value),_=1==e&&n<=3?h*this.rates[n-1].price:2==e&&(n<=3||5==n)?h*this.rates[3].price:0,this.detailForm[Z].amount=_}else l+=h,_=1==e&&n<=3?h*this.rates[n-1].price:2==e&&(n<=3||5==n)?h*this.rates[3].price:0,this.detailForm.push({precedence:i,hazard:a,value:h,type_residue:n,amount:_,recyclability:e});_=1==e&&n<=3?(this.rates[n-1].price*l).toString():2==e&&(n<=3||5==n)?(this.rates[3].price*l).toString():"0",sessionStorage.setItem("detailForm",JSON.stringify(this.detailForm)),document.getElementById(`actual_weight_${e}_${n}`).value=`${l.toFixed(2).replace(".",",")}`,document.getElementById(`actual_amount_${e}_${n}`).value=parseFloat(_).toFixed(2).replace(".",",");const A=l-parseFloat(document.getElementById(`last_weight_${e}_${n}`).innerHTML.replace(",","."));document.getElementById(`actual_dif_${e}_${n}`).value=`${A==1/0?100:A.toFixed(2).replace(".",",")||0} `,this.calculateDiff()}getValueStatementByYear(){this.productorService.getValueStatementByYear(this.id_business,this.year_statement-1,0).subscribe({next:n=>{n.status||(u().close(),u().fire({title:"Tuvimos problemas",text:n.msg,icon:"error"}).then(i=>{i.isConfirmed&&this.router.navigate(["/productor/home"])})),this.detailLastForm=n.data.detail,sessionStorage.setItem("detailLastForm",JSON.stringify(this.detailLastForm)||'""'),this.headLastForm=n.data.health,u().close(),this.detailLastForm?.forEach(i=>{document.getElementById(`inp_l_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}_${i?.PRECEDENCE}_${i?.HAZARD}`).innerHTML=i?.VALUE.toFixed(2).replace(".",",");const a=(parseFloat(document.getElementById(`last_weight_${i?.RECYCLABILITY}_${i?.TYPE_RESIDUE}`).innerHTML.replace(",","."))||0)+parseFloat(i?.VALUE);document.getElementById(`last_weight_${i?.RECYCLABILITY}_${i.TYPE_RESIDUE}`).innerHTML=a.toFixed(2).replace(".",",")})},error:n=>{u().close(),u().fire({icon:"error",text:n.msg,title:"\xa1Ups!"})}})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d.qu),t.Y36(T.u),t.Y36(f.F0),t.Y36(f.gz),t.Y36(y.z),t.Y36(p.H9))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-form-statement"]],decls:1,vars:1,consts:[["class","table-responsive mb-4",4,"ngFor","ngForOf"],[1,"table-responsive","mb-4"],[1,"table","table-even","table-section","table-borderless","table-align-middle","table-border","table-radius","table-statement"],["colspan","13"],[1,"text-center","fw-bold","bg-green-light"],["width","16%","rowspan","2",1,"text-start","bg-green","color-white",2,"font-size","18px"],["colspan","2"],[1,"text-center","bg-green-light-2"],["width","7%",1,"color-red"],["width","7%"],["class","text-end",4,"ngFor","ngForOf"],["colspan","7"],[1,"d-flex","justify-content-between"],[3,"id"],[1,"text-end"],[3,"ngIf"],[1,"bg-grey-light",3,"id"],["value","0","type","text","min","0",1,"form-control",3,"id","change"],["value","0","type","text","min","0",1,"form-control","form-control-sm",3,"id","change"],["value","0","readonly","",2,"border","none","background-color","transparent","text-align","center",3,"id"],["value","0","readonly","","type","text",2,"border","none","background-color","transparent","text-align","center",3,"id"],[1,"bg-grey-light",2,"display","none",3,"id"],[2,"display","none"],["value","0","readonly","","type","text",1,"form-control","form-control-sm",3,"id"]],template:function(e,n){1&e&&t.YNc(0,it,56,17,"div",0),2&e&&t.Q6J("ngForOf",n.tablas)},dependencies:[p.sg,p.O5],styles:[".table-statement[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-radius:20px 20px 0 0!important}"]}),s})();var ot=m(5861);function at(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td",25)(2,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.validate())}),t._uU(3,"Validar"),t.qZA()()()}}function rt(s,o){1&s&&(t.TgZ(0,"h2",27),t._uU(1,"Cargar orden de compra "),t.qZA())}function lt(s,o){1&s&&(t.TgZ(0,"p"),t._uU(1," El formato del archivo debe ser PDF. "),t.qZA())}function ut(s,o){1&s&&(t.TgZ(0,"p"),t._uU(1," El tama\xf1o del archivo no debe superar 1 MB. "),t.qZA())}function ct(s,o){if(1&s&&(t.TgZ(0,"div",35),t.YNc(1,lt,2,0,"p",22),t.YNc(2,ut,2,0,"p",22),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.userForm.controls.ARCHIVO.errors.invalidFileType),t.xp6(1),t.Q6J("ngIf",e.userForm.controls.ARCHIVO.errors.invalidFileSize)}}function dt(s,o){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.hij(" Quedan ",e.remaining," d\xedas para ingresar la OC ")}}function mt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"div")(1,"div",28)(2,"form",29)(3,"input",30),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onFileSelected(i))}),t.qZA(),t.YNc(4,ct,3,2,"div",31),t.YNc(5,dt,2,1,"div",22),t.TgZ(6,"div",32)(7,"a",33),t._uU(8,"Volver a inicio"),t.qZA(),t.TgZ(9,"button",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.uploadDeclaration())}),t._uU(10,"Enviar declaraci\xf3n"),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.userForm),t.xp6(2),t.Q6J("ngIf",e.userForm.controls.ARCHIVO.errors&&e.userForm.controls.ARCHIVO.touched),t.xp6(1),t.Q6J("ngIf",e.isValidated),t.xp6(4),t.Q6J("disabled",!e.userForm.controls.ARCHIVO.valid)}}let _t=(()=>{class s{constructor(e,n,i,a,r,c){this.businessService=e,this.productorService=n,this.rateService=i,this.actived=a,this.router=r,this.fb=c,this.year_statement=0,this.isValidated=!1,this.fileName="",this.selectedFile=null,this.isButtonVisible=!0,this.id_business="",this.name_business="",this.rut="",this.loc_address="",this.phone="",this.email="",this.am_first_name="",this.am_last_name="",this.giro="",this.invoice_name="",this.invoice_email="",this.invoice_phone="",this.amountString="$0",this.amount_current_year=0,this.amount_previous_year=0,this.uf=0,this.totalCLP="",this.porcentajeDiff="",this.remaining=-1,this.actived.queryParams.subscribe(l=>{this.id_business=l.id_business,this.year_statement=l.year})}ngOnInit(){this.isValidated=!1,this.isButtonVisible=!0,this.getResume(),this.getUf(),this.getBusiness(),this.getAmountDiff(),this.totalCLP=sessionStorage.getItem("totalCLP"),this.porcentajeDiff=sessionStorage.getItem("porcentajeDiff"),this.userForm=this.fb.group({ARCHIVO:[null,[d.kI.required,this.fileTypeValidator,this.fileSizeValidator]]})}ngOnDestroy(){sessionStorage.removeItem("state")}getUf(){this.rateService.getUF.subscribe(e=>{this.uf=e.data})}getBusiness(){this.businessService.getBusiness(this.id_business).subscribe({next:e=>{e.status&&(this.name_business=e.status[0].NAME,this.rut=e.status[0].VAT,this.loc_address=e.status[0].LOC_ADDRESS,this.phone=e.status[0].PHONE,this.email=e.status[0].EMAIL,this.am_first_name=e.status[0].AM_FIRST_NAME,this.am_last_name=e.status[0].AM_LAST_NAME,this.invoice_name=e.status[0].INVOICE_NAME,this.invoice_email=e.status[0].INVOICE_EMAIL,this.invoice_phone=e.status[0].INVOICE_PHONE,this.giro=e.status[0].GIRO)},error:e=>{u().close(),u().fire({icon:"error",text:e.msg,title:"\xa1Ups!"})}})}getResume(){this.actived.queryParams.subscribe(e=>{let n=e.year,i=e.id_business;u().fire({title:"Cargando datos...",allowOutsideClick:!1}),u().showLoading(),this.productorService.getResumeById(i,n).subscribe({next:a=>{this.resume=a,this.remaining=a.remaining,sessionStorage.setItem("state",this.resume.state),u().close(),2==this.resume.state&&(this.isValidated=!0,this.isButtonVisible=!1)},error:a=>{u().close(),u().fire({icon:"error",text:a.msg,title:"\xa1Ups!"}).then(r=>{r.isConfirmed&&this.router.navigate(["/productor"])})}})})}getAmountDiff(){this.amount_previous_year=0,this.amount_current_year=0,this.productorService.getValueStatementByYear(this.id_business,this.year_statement-1,0).subscribe({next:e=>{if(e.status&&e.data.detail.length>0){for(let n=0;n<e.data.detail.length;n++){const i=e.data.detail[n];0!=i.AMOUNT&&(this.amount_previous_year=this.amount_previous_year+parseFloat(i.AMOUNT)*this.uf)}this.amount_previous_year=this.amount_previous_year*parseFloat(this.porcentajeDiff)*.01*1.19,this.amountString="$"+this.amount_previous_year.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}},error:e=>{u().close(),u().fire({icon:"error",text:e.msg,title:"\xa1Ups!"})}}),this.productorService.getValueStatementByYear(this.id_business,this.year_statement,1).subscribe({next:e=>{if(e.status&&e.data.detail.length>0){for(let n=0;n<e.data.detail.length;n++){const i=e.data.detail[n];0!=i.AMOUNT&&(this.amount_current_year=this.amount_current_year+parseFloat(i.AMOUNT)*this.uf)}this.amount_current_year=this.amount_current_year*parseFloat(this.porcentajeDiff)*.01*1.19}},error:e=>{u().close(),u().fire({icon:"error",text:e.msg,title:"\xa1Ups!"})}})}validate(){var e=this;return(0,ot.Z)(function*(){if((yield u().fire({title:"Confirmaci\xf3n",html:'<div style="text-align: justify; font-size: 0.8em;">Est\xe1 a punto de validar la declaraci\xf3n, a partir de este momento no va a poder cambiar los valores ingresados y el valor de la declaraci\xf3n quedar\xe1 fijado a la UF del d\xeda de hoy. Tiene un plazo de 7 d\xedas para subir la Orden de Compra en el campo que se habilitar\xe1 al cerrar este mensaje. Pasado este plazo, la declaraci\xf3n volver\xe1 a estado borrador y se recalcular\xe1 el valor de la UF.</div>',icon:"warning",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",reverseButtons:!0})).isConfirmed){const i=sessionStorage.getItem("id_statement");if(!i)return;e.productorService.validateStatement(i).subscribe({next:a=>{a.status&&(e.isValidated=!0,e.isButtonVisible=!1,sessionStorage.setItem("state","2"))},error:a=>{u().close(),u().fire({icon:"error",text:a.msg,title:"\xa1Ups!"})}})}})()}onFileSelected(e){const n=e.target;if(n&&n.files&&n.files.length>0){const i=n.files[0];this.fileName=i.name,this.fileBuffer=i,this.selectedFile=n.files[0];const a=["pdf"],r=this.selectedFile.name.split(".").pop()?.toLowerCase()||"";a.includes(r)?i.size>1048576?(this.userForm.controls.ARCHIVO.setErrors({invalidFileSize:!0}),this.userForm.controls.ARCHIVO.markAsTouched()):(this.userForm.controls.ARCHIVO.setErrors(null),this.userForm.controls.ARCHIVO.markAsTouched()):(this.userForm.controls.ARCHIVO.setErrors({invalidFileType:!0}),this.userForm.controls.ARCHIVO.markAsTouched())}else this.selectedFile=null}fileTypeValidator(e){const n=e.value;return n&&!["application/pdf","image/jpeg"].includes(n.type)?{invalidFileType:!0}:null}fileSizeValidator(e){const n=e.value;return n&&n.size>1048576?{invalidFileSize:!0}:null}uploadDeclaration(){this.userForm.get("ARCHIVO");const n=document.getElementById("inp_archivo").files,i=sessionStorage.getItem("id_statement");!i||(u().fire({title:"Subiendo archivo",text:"Espere mientras se sube el archivo...",showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{u().showLoading()}}),this.productorService.uploadOC(i,n).subscribe({next:a=>{u().close(),u().fire({icon:"success",title:"Archivo subido exitosamente",text:"La declaraci\xf3n se ha enviado correctamente.",showConfirmButton:!0}).then(()=>{window.location.href="/#"})},error:a=>{u().close(),u().fire({icon:"error",title:"Error al subir el archivo",text:"Ha ocurrido un error al subir la declaraci\xf3n. Por favor, int\xe9ntelo nuevamente.",showConfirmButton:!0})}}))}getTotalEyE(){return(parseFloat(this.resume?.metal.replace(",","."))+parseFloat(this.resume?.papel.replace(",","."))+parseFloat(this.resume?.plastico.replace(",","."))+parseFloat(this.resume?.no_reciclable.replace(",","."))||0).toFixed(2).replace(".",",")}getNeto(){return this.formatMoney(this.resume?.neto)}getIVA(){return this.formatMoney(this.resume?.iva)}getTotalFacturado(){let e=this.parseMoney(this.getNeto()),n=this.parseMoney(this.getIVA());return this.formatMoney((e+n).toFixed(0))}parseMoney(e){let n=e.replace(/\./g,"");return n=n.replace(",","."),parseFloat(n)}formatMoney(e){return parseFloat(e).toFixed(0).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}formatNumber(e){if(!e)return"";const n=e.split(",");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),n.join(",")}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(w.m),t.Y36(T.u),t.Y36(y.z),t.Y36(f.gz),t.Y36(f.F0),t.Y36(d.qu))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-send-statement"]],decls:222,vars:18,consts:[["id","content",1,"w-100"],[1,"consulta-declaracion"],[1,"row"],[1,"col-12","col-lg-6","col-xl-4","d-flex"],[1,"box","box-semiradius","box-semiradius-secondary","box-header","mb-4","w-100"],[1,"box-header-h1"],[1,"list","list-data","list-data-tit-text-col","list-unstyled"],[1,"list-data__title"],["aria-hidden","true",1,"fa","fa-building","fa-fw","fa-lg"],[1,"list-data__text","flex-grow-1","ps-0"],["aria-hidden","true",1,"fa","fa-map-marker","fa-fw","fa-lg"],["aria-hidden","true",1,"fa","fa-envelope","fa-fw","fa-lg"],["aria-hidden","true",1,"fa","fa-user","fa-fw","fa-lg"],[1,"box-header-h1",2,"border-radius","1px"],["aria-hidden","true",1,"fa","fa-phone","fa-fw","fa-lg"],[2,"display","flex","justify-content","center"],[1,"table","table-even","table-section","table-borderless","table-align-middle","d-lg-table","table-statement"],["colspan","2",1,"box-header-h1",2,"text-align","center"],[1,"columna1"],[1,"columna2"],[2,"display","flex","justify-content","center","margin-top","25px"],["colspan","2",1,"box-header-h1",2,"border-radius","1px","text-align","center"],[4,"ngIf"],["class","box-header-h1","style","border-radius: 1px;margin-top: 7px;text-align: center;",4,"ngIf"],[1,"d-flex"],["colspan","2",2,"text-align","right"],[1,"btn","btn-primary",2,"width","150px",3,"click"],[1,"box-header-h1",2,"border-radius","1px","margin-top","7px","text-align","center"],[1,"mt-3",2,"margin","10px"],[3,"formGroup"],["type","file","formControlName","ARCHIVO","id","inp_archivo","accept","application/pdf","required","",1,"form-control",3,"change"],["class","text-danger pl-0",4,"ngIf"],[1,"button-container","mt-3",2,"display","flex","justify-content","space-between"],["href","#",1,"btn","btn-primary"],[1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger","pl-0"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),t._uU(6,"Informaci\xf3n ProREP"),t.qZA(),t.TgZ(7,"ul",6)(8,"li")(9,"span",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"span",9)(12,"strong"),t._uU(13,"Nombre SG:"),t.qZA(),t._UZ(14,"br"),t._uU(15,"Corporaci\xf3n PROREP para la Gesti\xf3n de Residuos "),t.qZA()(),t.TgZ(16,"li")(17,"span",7),t._UZ(18,"i",8),t.qZA(),t.TgZ(19,"span",9)(20,"strong"),t._uU(21,"Rut:"),t.qZA(),t._UZ(22,"br"),t._uU(23,"65.216.268-1 "),t.qZA()(),t.TgZ(24,"li")(25,"span",7),t._UZ(26,"i",10),t.qZA(),t.TgZ(27,"span",9)(28,"strong"),t._uU(29,"Direcci\xf3n:"),t.qZA(),t._UZ(30,"br"),t._uU(31,"Avda. Andr\xe9s Bello 2777, of. 506, Las Condes, Santiago "),t.qZA()(),t.TgZ(32,"li")(33,"span",7),t._UZ(34,"i",8),t.qZA(),t.TgZ(35,"span",9)(36,"strong"),t._uU(37,"Giro:"),t.qZA(),t._UZ(38,"br"),t._uU(39,"Gesti\xf3n de Residuos de Envases y Embalajes no Domiciliarios "),t.qZA()(),t.TgZ(40,"li")(41,"span",7),t._UZ(42,"i",11),t.qZA(),t.TgZ(43,"span",9)(44,"strong"),t._uU(45,"Correo:"),t.qZA(),t._UZ(46,"br"),t._uU(47,"admin@prorep.cl "),t.qZA()(),t.TgZ(48,"li")(49,"span",7),t._UZ(50,"i",8),t.qZA(),t.TgZ(51,"span",9)(52,"strong"),t._uU(53,"Asunto:"),t.qZA(),t._UZ(54,"br"),t._uU(55,"Pago cumplimiento Ley REP y nombre del socio "),t.qZA()(),t.TgZ(56,"li")(57,"span",7),t._UZ(58,"i",12),t.qZA(),t.TgZ(59,"span",9)(60,"strong"),t._uU(61,"Encargada de facturaci\xf3n:"),t.qZA(),t._UZ(62,"br"),t._uU(63,"Lorena Calder\xf3n "),t.qZA()(),t.TgZ(64,"li")(65,"span",7),t._UZ(66,"i",8),t.qZA(),t.TgZ(67,"span",9)(68,"strong"),t._uU(69,"Banco:"),t.qZA(),t._UZ(70,"br"),t._uU(71,"Santander "),t.qZA()(),t.TgZ(72,"li")(73,"span",7),t._UZ(74,"i",8),t.qZA(),t.TgZ(75,"span",9)(76,"strong"),t._uU(77,"Cuenta Corriente"),t.qZA(),t._UZ(78,"br"),t._uU(79,"89412617 "),t.qZA()()()()(),t.TgZ(80,"div",3)(81,"div",4)(82,"h2",5),t._uU(83,"Informaci\xf3n para Facturaci\xf3n"),t.qZA(),t.TgZ(84,"ul",6)(85,"li")(86,"span",7),t._UZ(87,"i",8),t.qZA(),t.TgZ(88,"span",9)(89,"strong"),t._uU(90,"Nombre Empresa:"),t.qZA(),t._UZ(91,"br"),t._uU(92),t.qZA()(),t.TgZ(93,"li")(94,"span",7),t._UZ(95,"i",8),t.qZA(),t.TgZ(96,"span",9)(97,"strong"),t._uU(98,"Rut:"),t.qZA(),t._UZ(99,"br"),t._uU(100),t.qZA()(),t.TgZ(101,"li")(102,"span",7),t._UZ(103,"i",8),t.qZA(),t.TgZ(104,"span",9)(105,"strong"),t._uU(106,"Giro:"),t.qZA(),t._UZ(107,"br"),t._uU(108),t.qZA()(),t.TgZ(109,"li")(110,"span",7),t._UZ(111,"i",10),t.qZA(),t.TgZ(112,"span",9)(113,"strong"),t._uU(114,"Direcci\xf3n:"),t.qZA(),t._UZ(115,"br"),t._uU(116),t._UZ(117,"br"),t.qZA()()(),t.TgZ(118,"h6",13),t._uU(119,"Contraparte Finanzas"),t.qZA(),t.TgZ(120,"ul",6)(121,"li")(122,"span",7),t._UZ(123,"i",12),t.qZA(),t.TgZ(124,"span",9)(125,"strong"),t._uU(126,"Nombre:"),t.qZA(),t._UZ(127,"br"),t._uU(128),t.qZA()(),t.TgZ(129,"li")(130,"span",7),t._UZ(131,"i",11),t.qZA(),t.TgZ(132,"span",9)(133,"strong"),t._uU(134,"Correo:"),t.qZA(),t._UZ(135,"br"),t._uU(136),t.qZA()(),t.TgZ(137,"li")(138,"span",7),t._UZ(139,"i",14),t.qZA(),t.TgZ(140,"span",9)(141,"strong"),t._uU(142,"Tel\xe9fono:"),t.qZA(),t._UZ(143,"br"),t._uU(144),t.qZA()()()()(),t.TgZ(145,"div",3)(146,"div",4)(147,"div",15)(148,"table",16)(149,"thead",5)(150,"tr",5)(151,"th",17),t._uU(152,"Total EyE (ton)"),t.qZA()()(),t.TgZ(153,"tbody")(154,"tr")(155,"td",18)(156,"strong"),t._uU(157,"Papel/cart\xf3n Reciclable"),t.qZA()(),t.TgZ(158,"td",19)(159,"strong"),t._uU(160),t.qZA()()(),t.TgZ(161,"tr")(162,"td",18)(163,"strong"),t._uU(164,"Metal Reciclable"),t.qZA()(),t.TgZ(165,"td",19)(166,"strong"),t._uU(167),t.qZA()()(),t.TgZ(168,"tr")(169,"td",18)(170,"strong"),t._uU(171,"Pl\xe1stico Reciclable"),t.qZA()(),t.TgZ(172,"td",19)(173,"strong"),t._uU(174),t.qZA()()(),t.TgZ(175,"tr")(176,"td",18)(177,"strong"),t._uU(178,"No Reciclables"),t.qZA()(),t.TgZ(179,"td",19)(180,"strong"),t._uU(181),t.qZA()()(),t.TgZ(182,"tr")(183,"td",18)(184,"strong"),t._uU(185,"Total EyE"),t.qZA()(),t.TgZ(186,"td",19)(187,"strong"),t._uU(188),t.qZA()()()()()(),t.TgZ(189,"div",20)(190,"table",16)(191,"thead",5)(192,"tr",5)(193,"th",21),t._uU(194,"Total Facturado (CLP)"),t.qZA()()(),t.TgZ(195,"tbody")(196,"tr")(197,"td",18)(198,"strong"),t._uU(199,"Monto Neto"),t.qZA()(),t.TgZ(200,"td",19)(201,"strong"),t._uU(202),t.qZA()()(),t.TgZ(203,"tr")(204,"td",18)(205,"strong"),t._uU(206,"Monto I.V.A"),t.qZA()(),t.TgZ(207,"td",19)(208,"strong"),t._uU(209),t.qZA()()(),t.TgZ(210,"tr")(211,"td",18)(212,"strong"),t._uU(213,"Monto Total"),t.qZA()(),t.TgZ(214,"td",19)(215,"strong"),t._uU(216),t.qZA()()(),t.YNc(217,at,4,0,"tr",22),t.qZA()()(),t.YNc(218,rt,2,0,"h2",23),t.YNc(219,mt,11,4,"div",22),t.qZA()(),t.TgZ(220,"div",24),t._uU(221," En caso de que la informaci\xf3n se\xf1alada est\xe9 err\xf3nea o desactualizada por favor contactarse al correo de soporte de plataforma ProREP: soporte@prorep.cl "),t.qZA()()()()),2&e&&(t.xp6(92),t.hij("",n.name_business," "),t.xp6(8),t.hij("",n.rut," "),t.xp6(8),t.hij("",n.giro," "),t.xp6(8),t.Oqu(n.loc_address),t.xp6(12),t.hij("",n.invoice_name," "),t.xp6(8),t.hij("",n.invoice_email," "),t.xp6(8),t.hij("",n.invoice_phone," "),t.xp6(16),t.Oqu(n.formatNumber(null==n.resume?null:n.resume.papel)),t.xp6(7),t.Oqu(n.formatNumber(null==n.resume?null:n.resume.metal)),t.xp6(7),t.Oqu(n.formatNumber(null==n.resume?null:n.resume.plastico)),t.xp6(7),t.Oqu(n.formatNumber(null==n.resume?null:n.resume.no_reciclable)),t.xp6(7),t.Oqu(n.formatNumber(n.getTotalEyE())),t.xp6(14),t.Oqu(null==n.resume?null:n.resume.neto),t.xp6(7),t.Oqu(null==n.resume?null:n.resume.iva),t.xp6(7),t.Oqu(null==n.resume?null:n.resume.total),t.xp6(1),t.Q6J("ngIf",n.isButtonVisible),t.xp6(1),t.Q6J("ngIf",n.isValidated),t.xp6(1),t.Q6J("ngIf",n.isValidated))},dependencies:[p.O5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.sg,d.u],styles:[".btn-link[_ngcontent-%COMP%]{color:#777;text-decoration:underline;cursor:pointer;background:none;border:none;padding:0;font:inherit}.columna1[_ngcontent-%COMP%]{width:200px}.columna2[_ngcontent-%COMP%]{width:100px;text-align:right}"]}),s})();function pt(s,o){if(1&s&&(t.TgZ(0,"p",11),t._uU(1),t.ALo(2,"date"),t.qZA()),2&s){const e=t.oxw();t.xp6(1),t.hij("Borrador guardado a las: ",t.xi3(2,1,e.hour,"HH:mm:ss"),"")}}function ht(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeStep(-1))}),t._uU(1,"Atr\xe1s"),t.qZA()}if(2&s){const e=t.oxw();t.Q6J("disabled",e._saving||e.disableBackButton)}}function gt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeStep(1))}),t._uU(1,"Siguiente"),t.qZA()}}function ft(s,o){1&s&&t._UZ(0,"app-form-statement")}function Zt(s,o){1&s&&t._UZ(0,"app-summary-statement")}function bt(s,o){1&s&&t._UZ(0,"app-send-statement")}const U=function(s){return{active:s}};let Tt=(()=>{class s{constructor(e,n,i,a,r){this.fb=e,this.productorService=n,this.businessService=i,this.router=a,this.actived=r,this.tablas=["Reciclable","No Reciclable","Retornables / Reutilizados"],this.residuos=["Papel Cart\xf3n","Metal","Pl\xe1stico","Madera**","Envases compuestos"],this.position=1,this.hour=null,this.disableBackButton=!1,this.state=0,this.sessionCheck=null,this.isSubmited=!1,this.isEdited=!1,this._saving=!1,this.id_business=0,this.name_business="",this.rut_business="",this.year_statement=0,this.id_statement=null,this.detailForm=[],this.actived.queryParams.subscribe(c=>{this.id_business=c.id_business,this.year_statement=c.year}),this.getNameBusiness()}ngOnDestroy(){this.isSubmited||this.saveDraft(),sessionStorage.removeItem("id_statement"),sessionStorage.removeItem("detailForm"),sessionStorage.removeItem("saving"),sessionStorage.removeItem("detailLastForm"),null!==this.sessionCheck&&this.sessionCheck.unsubscribe()}ngOnInit(){sessionStorage.getItem("state")&&"2"==sessionStorage.getItem("state")&&(this.position=3),this.sessionCheck=function J(s=0,o=C){return s<0&&(s=0),function V(s=0,o,e=D){let n=-1;return null!=o&&((0,H.K)(o)?e=o:n=o),new $.y(i=>{let a=function k(s){return s instanceof Date&&!isNaN(s)}(s)?+s-e.now():s;a<0&&(a=0);let r=0;return e.schedule(function(){i.closed||(i.next(r++),0<=n?this.schedule(void 0,n):i.complete())},a)})}(s,s,o)}(100).pipe((0,j.U)(()=>parseInt(sessionStorage.getItem("state")||"0")),(0,G.o)(e=>2!==e,!0)).subscribe(e=>{this.state!==e&&(this.state=e,this.updateBackButtonStatus())})}updateBackButtonStatus(){this.disableBackButton=2===this.state&&3===this.position}getNameBusiness(){this.businessService.getBusiness(this.id_business.toString()).subscribe({next:e=>{e.status&&(this.name_business=e.status[0].NAME,this.rut_business=e.status[0].VAT)},error:e=>{u().close(),u().fire({icon:"error",text:e.msg,title:"\xa1Ups!"})}})}saveDraft(){this._saving=!0;const e=sessionStorage.getItem("saving")||!1,n=sessionStorage.getItem("isEdited")||!1;this.id_statement=parseInt(sessionStorage.getItem("id_statement"))||null;const i=sessionStorage.getItem("detailForm"),a=JSON.parse(i||"[]");let r=!0;for(let l=0;l<a.length;l++)0!=a[l].value&&(r=!1);const c={id_business:this.id_business,year_statement:this.year_statement,state:!1,id_statement:this.id_statement};if(r&&3!==this.position)a.push({precedence:1,hazard:1,recyclability:1,type_residue:1,value:0,amount:0}),u().fire({icon:"question",title:"\xbfFormulario vacio?",text:"El formulario tiene todos los valores en cero. \xbfEstas seguro de guardar borrador?",showConfirmButton:!0,showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Guardar"}).then(l=>{if(l.isConfirmed)if(u().fire({title:"Guardando Datos",text:"Se est\xe1n guardando datos",timerProgressBar:!0,showConfirmButton:!1}),u().showLoading(),null!=this.id_statement||e){if(e)return;this.productorService.updateValuesStatement(this.id_statement,a,c).subscribe(_=>{_.status&&(this._saving=!1,this.hour=new Date,u().close())})}else sessionStorage.setItem("saving","true"),this.productorService.saveForm({header:c,detail:a}).subscribe(_=>{this.hour=new Date,this._saving=!1,_.status&&(sessionStorage.setItem("id_statement",_.data),u().close()),sessionStorage.removeItem("isEdited"),sessionStorage.removeItem("saving")});else this.position=1});else{if(null===i)return void(this._saving=!1);if(!n)return this.hour=new Date,void(this._saving=!1);if(null!=this.id_statement||e){if(e)return;this.productorService.updateValuesStatement(this.id_statement,a,c).subscribe(l=>{l.status&&(this._saving=!1,this.hour=new Date)})}else sessionStorage.setItem("saving","true"),this.productorService.saveForm({header:c,detail:a}).subscribe(l=>{this._saving=!1,this.hour=new Date,l.status&&sessionStorage.setItem("id_statement",l.data),sessionStorage.removeItem("saving"),sessionStorage.removeItem("isEdited")})}}updateFormState(){this.id_statement=parseInt(sessionStorage.getItem("id_statement"))||null,u().fire({icon:"question",title:"Confirmaci\xf3n Env\xedo",text:"Usted est\xe1 a punto de enviar su declaraci\xf3n. Una vez enviada, no podr\xe1 realizar modificaciones sobre la misma. \xbfEsta seguro de realizar el env\xedo?",showConfirmButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0}).then(e=>{e.isConfirmed&&this.productorService.updateStateStatement(this.id_statement,!0).subscribe(n=>{u().fire({title:"Exito",text:"La declaraci\xf3n fue enviada exitosamente",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0}).then(i=>{sessionStorage.removeItem("id_statement"),sessionStorage.removeItem("isEdited"),this.isSubmited=!0,this.router.navigate(["/productor/home"])})})})}changeStep(e){0!=this.position?(this.position>=1&&this.position<3&&e>0&&this.saveDraft(),e>0?this.position<3&&(this.position+=e):this.position>1&&(this.position+=e),this.updateBackButtonStatus()):this.position=1}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d.qu),t.Y36(T.u),t.Y36(w.m),t.Y36(f.F0),t.Y36(f.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-form"]],decls:35,vars:18,consts:[["aria-label","breadcrumb",1,"breadcrumbs","d-none","d-lg-block"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-hidden","true",1,"fa","fa-home"],["aria-current","page",1,"breadcrumb-item","active"],["style","text-align: right;",4,"ngIf"],[1,"w-100",2,"width","100% !important"],[1,"table-responsive","mb-2","mb-lg-4"],[1,"list","list-process","list-unstyled"],[1,"list-process__dot",3,"ngClass"],[2,"text-align","right"],["class","btn btn-warning",3,"disabled","click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-warning",3,"disabled","click"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),t._UZ(4,"i",4),t._uU(5," Inicio"),t.qZA()(),t.TgZ(6,"li",2)(7,"a",3),t._uU(8,"Consulta de Declaraci\xf3n"),t.qZA()(),t.TgZ(9,"li",5),t._uU(10),t.qZA()()(),t.TgZ(11,"h1"),t._uU(12,"Formulario"),t.qZA(),t._UZ(13,"hr")(14,"br")(15,"br"),t.YNc(16,pt,3,4,"p",6),t.TgZ(17,"div",7)(18,"div",8)(19,"ul",9)(20,"li",10)(21,"a"),t._uU(22,"Formulario"),t.qZA()(),t.TgZ(23,"li",10)(24,"a"),t._uU(25,"Resumen"),t.qZA()(),t.TgZ(26,"li",10)(27,"a"),t._uU(28,"Facturaci\xf3n"),t.qZA()()()()(),t.TgZ(29,"div",11),t.YNc(30,ht,2,1,"button",12),t.YNc(31,gt,2,0,"button",13),t.qZA(),t.YNc(32,ft,1,0,"app-form-statement",14),t.YNc(33,Zt,1,0,"app-summary-statement",14),t.YNc(34,bt,1,0,"app-send-statement",14)),2&e&&(t.xp6(10),t.lnq("Declaraci\xf3n ",n.year_statement," - ",n.name_business,"(",n.rut_business,") "),t.xp6(6),t.Q6J("ngIf",null!=n.hour),t.xp6(4),t.Q6J("ngClass",t.VKq(12,U,1==n.position)),t.xp6(3),t.Q6J("ngClass",t.VKq(14,U,2==n.position)),t.xp6(3),t.Q6J("ngClass",t.VKq(16,U,3==n.position)),t.xp6(4),t.Q6J("ngIf",n.position>1),t.xp6(1),t.Q6J("ngIf",n.position<3),t.xp6(1),t.Q6J("ngIf",1==n.position),t.xp6(1),t.Q6J("ngIf",2==n.position),t.xp6(1),t.Q6J("ngIf",3==n.position))},dependencies:[p.mk,p.O5,B,st,_t,p.uU],styles:["[_nghost-%COMP%]{width:90%!important;padding:1%}"]}),s})();function At(s,o){if(1&s&&(t.TgZ(0,"li")(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&s){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.price)}}let Et=(()=>{class s{constructor(e){this.ratesService=e,this.types=["EyE reciclables de papel/cart\xf3n","EyE reciclables de metal","EyE reciclables de pl\xe1sticos","EyE no reciclables"],this.year=(new Date).getFullYear(),this.rates=[]}ngOnInit(){this.ratesService.getRates(this.year).subscribe(e=>{e.status&&e.data.forEach(n=>{this.rates.push({name:this.types[n.type-1],price:n.price})})})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(y.z))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],decls:43,vars:1,consts:[["id","content"],["aria-label","breadcrumb",1,"breadcrumbs","d-none","d-lg-block"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item"],["aria-hidden","true",1,"fa","fa-home"],[1,"inicio"],[1,"box","box-inicio"],[1,"row"],[1,"col-12","col-md-7"],[1,"h1"],["href","mailto:soporte@prorep.cl"],["href","tel:+56979168394",1,"color-white"],[1,"col-12","col-md-5"],[1,"pt-4","pt-md-0","mt-3","mt-md-0","border-top","border-top-md-0"],[1,"list","list-tarifas","list-unstyled"],[1,"text-end","d-block","bg-blue","color-white"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3),t._UZ(4,"i",4),t._uU(5," Inicio"),t.qZA()()(),t.TgZ(6,"section",5)(7,"h1"),t._uU(8,"Inicio"),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"h2",9),t._uU(13,"Bienvenido/a a Mi Declaraci\xf3n"),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Como parte de las obligaciones que establece la Ley REP, los Productores deben informar la cantidad de EyE no domiciliarios (POM) puestos en el mercado el a\xf1o anterior."),t.qZA(),t.TgZ(16,"p"),t._uU(17,"ProREP pone a disposici\xf3n de sus socios la plataforma de declaraci\xf3n que dar\xe1 cumplimiento a la obligaci\xf3n de informar sus EyE."),t.qZA(),t.TgZ(18,"p"),t._uU(19,"La declaraci\xf3n de los EyE introducidos en el mercado el a\xf1o anterior deber\xe1 ser subida y enviada antes del 20 de marzo de cada a\xf1o"),t.qZA(),t.TgZ(20,"p"),t._uU(21,"En caso de problemas, errores, correcciones o dudas espec\xedficas contactarse con el \xc1rea de Soporte en el siguiente mail: "),t.TgZ(22,"a",10),t._uU(23,"soporte@prorep.cl"),t.qZA()(),t.TgZ(24,"h2",9),t._uU(25,"Contacto:"),t.qZA(),t.TgZ(26,"p")(27,"strong"),t._uU(28,"\xbfAlguna pregunta?"),t.qZA(),t._uU(29," P\xf3ngase en contacto con nuestro equipo de atenci\xf3n al cliente."),t.qZA(),t.TgZ(30,"p"),t._uU(31,"Celular "),t.TgZ(32,"strong")(33,"a",11),t._uU(34,"+56 9 7916 8394"),t.qZA()()()(),t.TgZ(35,"div",12)(36,"div",13)(37,"p"),t._uU(38,"Las tarifas por subcategor\xeda son de car\xe1cter anual por lo que estar\xe1n vigentes por todo el a\xf1o 2023."),t.qZA(),t.TgZ(39,"ul",14)(40,"li",15),t._uU(41,"Tarifas por tonelada (UF)"),t.qZA(),t.YNc(42,At,5,2,"li",16),t.qZA()()()()()()()),2&e&&(t.xp6(42),t.Q6J("ngForOf",n.rates))},dependencies:[p.sg]}),s})();var vt=m(4135),yt=m(263);let xt=(()=>{class s{constructor(e,n,i){this.fb=e,this.authService=n,this.router=i,this.pos="right",this.horaIngreso=new Date,this.formData=this.fb.group({actual:["",[d.kI.required]],password:["",[d.kI.required,d.kI.minLength(3)]],repeatPassword:["",[d.kI.required,d.kI.minLength(3)]]})}ngOnInit(){this.userData=JSON.parse(sessionStorage.getItem("user")),this.horaIngreso=new Date(sessionStorage.getItem("horaIngreso"))}btnrecovery(){const{actual:e,password:n,repeatPassword:i}=this.formData.value;this.authService.modifyPassword(n,i,e).subscribe({next:a=>{a.status?(u().fire({title:"Cambio de contrase\xf1a",text:"La contrase\xf1a fue cambiada exitosamente",icon:"success"}),this.router.navigate(["/auth/login"])):(u().fire({title:"Validar informaci\xf3n",text:a.msg,icon:"error"}),this.formData.reset())},error:a=>{u().fire({title:"Formato inv\xe1lido",text:"Contrase\xf1a debe contener al menos 8 caracteres",icon:"error"})}})}displayModifyPassword(){this.pos="right"==this.pos?"down":"right"}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(d.qu),t.Y36(yt.e),t.Y36(f.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-profile"]],decls:81,vars:16,consts:[[1,"container","mt-4"],[1,"mi-perfil"],[1,"box","box-mi-perfil","mb-5","d-flex","align-items-start"],[1,"list","list-data","list-data-title-green","column-md-2","gap-0","list-unstyled"],[1,"list-data__title"],[1,"list-data__text"],[1,"color-verde"],[1,"list","list-links","list-unstyled"],["id","accordionPanelsStayOpenExample",1,"accordion","accordion-flush"],[1,"accordion-item"],["id","panelsStayOpen-headingOne",1,"accordion-header"],["data-bs-toggle","collapse","data-bs-target","#panelsStayOpen-collapseOne",3,"click"],["aria-hidden","true"],["id","panelsStayOpen-collapseOne","aria-labelledby","panelsStayOpen-headingOne",1,"accordion-collapse","collapse"],[1,"accordion-body"],["autocomplete","off",1,"form-recovery",3,"formGroup"],[1,"mb-4"],[1,"input-group"],[1,"input-group-text","input-group-text-left"],["aria-hidden","true",1,"fa","fa-lock","fa-fw"],["type","password","id","password","formControlName","actual","placeholder","Contrase\xf1a actual",1,"form-control"],["type","password","id","password","formControlName","password","placeholder","Nueva contrase\xf1a",1,"form-control"],["type","password","id","repeatPassword","formControlName","repeatPassword","placeholder","Repetir contrase\xf1a",1,"form-control"],["type","button",1,"btn","btn-primary","btn-fa","w-100",3,"click"],["aria-hidden","true",1,"fa","fa-long-arrow-right","fa-fw"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"section",1)(2,"h1"),t._uU(3,"Mi Perfil"),t.qZA(),t.TgZ(4,"div",2)(5,"ul",3)(6,"li")(7,"span",4),t._uU(8,"Nombre Usuario"),t.qZA(),t.TgZ(9,"span",5),t._uU(10),t.qZA()(),t.TgZ(11,"li")(12,"span",4),t._uU(13,"Perfil"),t.qZA(),t.TgZ(14,"span",5),t._uU(15),t.qZA()(),t.TgZ(16,"li")(17,"span",4),t._uU(18,"Tel\xe9fono"),t.qZA(),t.TgZ(19,"span",5),t._uU(20),t.qZA()(),t.TgZ(21,"li")(22,"span",4),t._uU(23,"Correo"),t.qZA(),t.TgZ(24,"span",5),t._uU(25),t.qZA()(),t.TgZ(26,"li")(27,"span",4),t._uU(28,"Instituci\xf3n"),t.qZA(),t.TgZ(29,"span",5),t._uU(30),t.qZA()(),t.TgZ(31,"li")(32,"span",4),t._uU(33,"Cargo"),t.qZA(),t.TgZ(34,"span",5),t._uU(35),t.qZA()(),t.TgZ(36,"li")(37,"span",4),t._uU(38,"Tel\xe9fono Oficina"),t.qZA(),t.TgZ(39,"span",5),t._uU(40),t.qZA()(),t.TgZ(41,"li")(42,"span",4)(43,"b"),t._uU(44,"Fecha/ Hora ingreso"),t.qZA()(),t.TgZ(45,"span",5),t._uU(46),t.ALo(47,"date"),t.qZA()()()(),t.TgZ(48,"h2",6),t._uU(49,"Acciones"),t.qZA(),t.TgZ(50,"ul",7)(51,"div",8)(52,"div",9)(53,"h2",10)(54,"li",11),t.NdJ("click",function(){return n.displayModifyPassword()}),t.TgZ(55,"a")(56,"span"),t._uU(57,"Cambio de contrase\xf1a"),t.qZA(),t._UZ(58,"i",12),t.qZA()()(),t.TgZ(59,"div",13)(60,"div",14)(61,"form",15)(62,"div",16)(63,"div",17)(64,"button",18),t._UZ(65,"i",19),t.qZA(),t._UZ(66,"input",20),t.qZA()(),t.TgZ(67,"div",16)(68,"div",17)(69,"button",18),t._UZ(70,"i",19),t.qZA(),t._UZ(71,"input",21),t.qZA()(),t.TgZ(72,"div",16)(73,"div",17)(74,"button",18),t._UZ(75,"i",19),t.qZA(),t._UZ(76,"input",22),t.qZA()(),t.TgZ(77,"div",16)(78,"button",23),t.NdJ("click",function(){return n.btnrecovery()}),t._uU(79," Enviar "),t._UZ(80,"i",24),t.qZA()()()()()()()()()()),2&e&&(t.xp6(10),t.AsE("",n.userData.FIRST_NAME," ",n.userData.LAST_NAME,""),t.xp6(5),t.Oqu(n.userData.ROL_NAME),t.xp6(5),t.Oqu(n.userData.PHONE),t.xp6(5),t.Oqu(n.userData.EMAIL),t.xp6(5),t.Oqu(n.userData.BUSINESS.join(" || ")),t.xp6(5),t.Oqu(n.userData.POSITION),t.xp6(5),t.Oqu(n.userData.PHONE_OFFICE),t.xp6(6),t.Oqu(t.xi3(47,13,n.horaIngreso,"dd-MM-yyyy H:mm:s")),t.xp6(12),t.Gre("fa fa-chevron-",n.pos,""),t.xp6(3),t.Q6J("formGroup",n.formData))},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,p.uU],styles:[".accordion[_ngcontent-%COMP%]{border:none!important}.accordion-item[_ngcontent-%COMP%]{border:none}.accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:last-child{border:none}.accordion[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{border:none}a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]:hover{color:#09a57b}.swal-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]}),s})();function Ut(s,o){if(1&s&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function St(s,o){if(1&s&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function Ft(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.downloadPDF(i.CODE_BUSINESS,i.YEAR_STATEMENT))}),t._UZ(1,"i",36),t.qZA()}}function qt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.navigateToForm(i.CODE_BUSINESS,i.YEAR_STATEMENT,i.ID,i.STATE))}),t._UZ(1,"i",37),t.qZA()}}function It(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.navigateToForm(i.CODE_BUSINESS,i.YEAR_STATEMENT,i.ID,i.STATE))}),t._UZ(1,"i",38),t.qZA()}}function Ct(s,o){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td",33),t.YNc(15,Ft,2,0,"button",34),t.YNc(16,qt,2,0,"button",34),t.YNc(17,It,2,0,"button",34),t.qZA()()),2&s){const e=o.$implicit;t.xp6(2),t.Oqu(e.CODE_BUSINESS),t.xp6(2),t.Oqu(e.NAME_BUSINESS),t.xp6(2),t.Oqu(e.YEAR_STATEMENT),t.xp6(2),t.Oqu(1==e.STATE?"Enviada":0==e.STATE?"Borrador":"Pendiente"),t.xp6(2),t.Oqu(e.AMOUNT.toFixed(2).replace(".",",")),t.xp6(2),t.Oqu(t.xi3(13,9,e.UPDATED_AT,"dd-MM-yyyy H:mm:ss")),t.xp6(3),t.Q6J("ngIf",1==e.STATE),t.xp6(1),t.Q6J("ngIf",0==e.STATE),t.xp6(1),t.Q6J("ngIf",2==e.STATE)}}const wt=function(s,o){return{"btn-info":s,"btn-primary":o}};function Bt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"li")(1,"button",39),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw();return t.KtG(r.pagTo(a))}),t._uU(2),t.qZA()()}if(2&s){const e=o.index,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(2,wt,n.pos==e+1,n.pos!=e+1)),t.xp6(1),t.Oqu(e+1)}}let Mt=(()=>{class s{constructor(e,n){this.productorService=e,this.router=n,this.dbStatements=[],this.db=[],this.pos=1,this.business_name=[],this.years=[],this.cant=0}ngOnInit(){this.loadStatements()}loadStatements(){this.productorService.getStatementByUser.subscribe(e=>{e.status&&(e.data=e.data.sort((n,i)=>i.YEAR_STATEMENT-n.YEAR_STATEMENT),e.data.forEach(n=>{-1==this.business_name.indexOf(n.NAME_BUSINESS)&&this.business_name.push(n.NAME_BUSINESS),-1==this.years.indexOf(n.YEAR_STATEMENT)&&this.years.push(n.YEAR_STATEMENT)}),this.years.sort((n,i)=>i-n),this.dbStatements=e.data,this.cant=Math.ceil(this.dbStatements.length/10),this.db=this.dbStatements.slice(0,10).sort((n,i)=>i.YEAR_STATEMENT-n.YEAR_STATEMENT))})}filter(){const e=document.getElementById("f_name").value,n=document.getElementById("f_year").value,i=this.dbStatements.filter(a=>{if("-1"!=e&&a.NAME_BUSINESS==e){if("-1"==n)return a;if(a.YEAR_STATEMENT==n)return a}if("-1"==e){if("-1"==n)return a;if(a.YEAR_STATEMENT==n)return a}});this.db=i.slice(0,10).sort((a,r)=>r.YEAR_STATEMENT-a.YEAR_STATEMENT),this.cant=Math.ceil(i.length/10)}reset(){this.loadStatements()}pagTo(e){this.pos=e+1,this.db=this.dbStatements.slice(10*e,10*(e+1)).sort((n,i)=>i.YEAR_STATEMENT-n.YEAR_STATEMENT)}next(){this.pos>=this.cant||(this.pos++,this.db=this.dbStatements.slice(10*(this.pos-1),10*this.pos).sort((e,n)=>n.YEAR_STATEMENT-e.YEAR_STATEMENT))}previus(){this.pos-1<=0||this.pos>=this.cant+1||(this.pos=this.pos-1,this.db=this.dbStatements.slice(10*(this.pos-1),10*this.pos).sort((e,n)=>n.YEAR_STATEMENT-e.YEAR_STATEMENT))}downloadPDF(e,n){u().fire({title:"Espere",text:"Generando PDF",showConfirmButton:!1}),u().showLoading(),this.productorService.downloadPDF(e,n).subscribe(i=>{const a=new Blob([i],{type:"application/pdf"});let r=document.createElement("a");r.href=window.URL.createObjectURL(a),r.download=`Reporte_${n}`,document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),r.remove(),window.URL.revokeObjectURL(r.href),u().close()})}navigateToForm(e,n,i,a=0){sessionStorage.setItem("state",a.toString()||"0"),sessionStorage.setItem("id_statement",i?.toString()||"null"),this.router.navigateByUrl(`/productor/form?year=${n}&id_business=${e}`)}setArrayFromNumber(){return new Array(this.cant)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(T.u),t.Y36(f.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-statements"]],decls:74,vars:4,consts:[[1,"container","mt-4"],["aria-label","breadcrumb",1,"breadcrumbs","d-none","d-lg-block"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-hidden","true",1,"fa","fa-home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"declaracion"],[1,"d-sm-flex","justify-content-between","mb-3","mb-md-0"],[1,"box","box-form","mb-4"],[1,"row","align-items-end"],[1,"col-12","col-xl-4","mb-3","mb-xl-0"],[1,"form-label"],[1,"input-group"],["id","f_name",1,"form-select"],["value","-1","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-xl-1","text-xl-center","mb-3","mb-xl-0"],[1,"mb-xl-2"],[1,"col-12","col-xl-3","mb-5","mb-xl-0"],["id","f_year",1,"form-select"],[1,"row"],[1,"col-6"],[1,"btn","btn-primary","col-12",3,"click"],[1,"table-responsive"],[1,"table","table-even","table-section","table-borderless","table-radius"],[1,"vertical-middle"],[1,"text-uppercase","text-center","text-nowrap"],[4,"ngFor","ngForOf"],["aria-label","Navegaci\xf3n resultados"],[1,"pagination"],[1,"btn","btn-primary",3,"click"],[3,"value"],[1,"text-center","text-nowrap"],["class","btn",3,"click",4,"ngIf"],[1,"btn",3,"click"],["aria-hidden","true",1,"fa","fa-file-pdf-o","fa-fw","fa-lg","color-blue"],["aria-hidden","true",1,"fa","fa-file-text-o","fa-fw","fa-lg",2,"color","red"],["aria-hidden","true",1,"fa","fa-file-text-o","fa-fw","fa-lg",2,"color","#DEC300"],[1,"border","btn","btn-sm",3,"ngClass","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),t._UZ(5,"i",5),t._uU(6," Inicio"),t.qZA()(),t.TgZ(7,"li",6),t._uU(8,"Consulta de Declaraci\xf3n"),t.qZA()()(),t.TgZ(9,"section",7)(10,"h1"),t._uU(11,"Consulta Declaraciones"),t.qZA(),t._UZ(12,"div",8),t.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"label",12),t._uU(17,"Empresa:"),t.qZA(),t.TgZ(18,"div",13)(19,"select",14)(20,"option",15),t._uU(21,"Todos"),t.qZA(),t.YNc(22,Ut,2,2,"option",16),t.qZA()()(),t.TgZ(23,"div",17)(24,"div",18),t._uU(25,"y/o"),t.qZA()(),t.TgZ(26,"div",19)(27,"label",12),t._uU(28,"A\xf1o:"),t.qZA(),t.TgZ(29,"div",13)(30,"select",20)(31,"option",15),t._uU(32,"Todos"),t.qZA(),t.YNc(33,St,2,2,"option",16),t.qZA()()(),t.TgZ(34,"div",11)(35,"div",21)(36,"div",22)(37,"button",23),t.NdJ("click",function(){return n.filter()}),t._uU(38,"Mostrar"),t.qZA()()()()()(),t.TgZ(39,"div",24)(40,"table",25)(41,"thead",26)(42,"tr")(43,"th"),t._uU(44,"ID Empresa"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Nombre Empresa"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"A\xf1o Declaraci\xf3n"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Estado"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Monto Total (UF)"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Fecha Env\xedo"),t.qZA(),t.TgZ(55,"th",27),t._uU(56,"Acci\xf3n"),t.qZA()()(),t.TgZ(57,"tbody"),t.YNc(58,Ct,18,12,"tr",28),t.qZA()()(),t.TgZ(59,"nav",29)(60,"ul",30)(61,"li")(62,"button",31),t.NdJ("click",function(){return n.pagTo(0)}),t._uU(63,"Primero"),t.qZA()(),t.TgZ(64,"li")(65,"button",31),t.NdJ("click",function(){return n.previus()}),t._uU(66,"Anterior"),t.qZA()(),t.YNc(67,Bt,3,5,"li",28),t.TgZ(68,"li")(69,"button",31),t.NdJ("click",function(){return n.next()}),t._uU(70,"Siguiente"),t.qZA()(),t.TgZ(71,"li")(72,"button",31),t.NdJ("click",function(){return n.pagTo(n.cant-1)}),t._uU(73,"\xdaltimo"),t.qZA()()()()()()),2&e&&(t.xp6(22),t.Q6J("ngForOf",n.business_name),t.xp6(11),t.Q6J("ngForOf",n.years),t.xp6(25),t.Q6J("ngForOf",n.db),t.xp6(9),t.Q6J("ngForOf",n.setArrayFromNumber()))},dependencies:[p.mk,p.sg,p.O5,d.YN,d.Kr,p.uU],styles:["[_nghost-%COMP%]{width:90%!important;padding:1%}"]}),s})();var Nt=m(9314);const Ot=[{path:"",component:vt.$,children:[{path:"home",component:Et},{path:"form",component:Tt},{path:"profile",component:xt},{path:"statements",component:Mt},{path:"summary",component:B},{path:"faq",component:Nt.v},{path:"**",redirectTo:"home",pathMatch:"full"}]}];let Rt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[f.Bz.forChild(Ot),f.Bz]}),s})();var Yt=m(4466);let Lt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[p.H9],imports:[p.ez,Rt,Yt.m,d.u5,d.UX]}),s})()}}]);